@model IEnumerable<BTL_QlBi_a.Models.Entities.KhachHang>

@{
    ViewData["Tittle"] = "Quản lý khách hàng";
}

@await Html.PartialAsync("~/Views/Home/Partials/KhachHang/_KhachHang.cshtml", Model);


@section Scripts {
            <script src="~/asset/js/qlKhachHang/filterKhachHang.js"></script>
            <script src="~/asset/js/qlKhachHang/FormKhachHang.js"></script>
            <script src="~/asset/js/qlKhachHang/ChiTietKhachHang.js"></script>
            <script src="~/asset/js/qlKhachHang/index.js"></script>


            <script>
                // Test debug
                console.log('✅ Page loaded');
                console.log('Detail Panel:', document.getElementById('detailPanel'));
                console.log('Table Cards:', document.querySelectorAll('.table-card').length);

                // Adjust container layout when detail is shown
                const detailPanel = document.getElementById('detailPanel');
                const container = document.querySelector('.container');

                if (detailPanel && container) {
                    // Watch for changes in detail panel
                    const observer = new MutationObserver(function(mutations) {
                        if (detailPanel.innerHTML.trim() !== '') {
                            container.classList.add('with-detail');
                        } else {
                            container.classList.remove('with-detail');
                        }
                    });

                    observer.observe(detailPanel, {
                        childList: true,
                        subtree: true
                    });
                }                

                   
    document.addEventListener('DOMContentLoaded', function () {
        filterCustomers('all');
    });            
          
</script>
}