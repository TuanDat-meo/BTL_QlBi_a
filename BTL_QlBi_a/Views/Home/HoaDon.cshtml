@model IEnumerable<BTL_QlBi_a.Models.Entities.HoaDon>

@{
    ViewData["Tittle"] = "Quản lý hóa đơn";
}

@await Html.PartialAsync("~/Views/Home/Partials/HoaDon/_HoaDon.cshtml",Model);

@section Scripts {
    <script src="~/asset/js/qlHoaDon/filterHoaDon.js"></script>
    <script src="~/asset/js/qlHoaDon/chiTietHoaDon.js"></script>
    <script src="~/asset/js/qlHoaDon/xuatBaoCaoHoaDon.js"></script>

    <script>
        // ===============================
        // 🔍 DEBUG LOGS
        // ===============================
        console.log('✅ Page loaded');
        console.log('Detail Panel:', document.getElementById('detailPanel'));
        console.log('Table Cards:', document.querySelectorAll('.table-card').length);

        // ===============================
        // 📐 ADJUST LAYOUT WHEN DETAIL SHOWS
        // ===============================
        const detailPanel = document.getElementById('detailPanel');
        const container = document.querySelector('.container');

        if (detailPanel && container) {
            // Watch for changes in detail panel
            const observer = new MutationObserver(function (mutations) {
                if (detailPanel.innerHTML.trim() !== '') {
                    container.classList.add('with-detail');
                } else {
                    container.classList.remove('with-detail');
                }
            });

            observer.observe(detailPanel, {
                childList: true,
                subtree: true
            });
        }
    </script>
}
